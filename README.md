# 누비랩 과제

## 요구사항 및 문의 답변 정리

1. 서울의 초, 중, 고등학교의 2021년 급식정보를 엑셀 파일로 출력
2. 들어가야 하는 데이터 : 학교명, 날짜, 구분, 메뉴, 칼로리
3. 데이터 정렬등의 후처리는 필요 없으며, 구분은 조식, 중식, 석식을 의미
4. 메뉴의 경우 알레르기 정보는 필요 없으며, 메뉴는 ","로 구분하여 한셀에 표기

## 코드 설명 및 아쉬웠던점들 정리

1. 맨 처음엔 데이터가 많으니 병렬처리를 하려했습니다. multiprocessing의 Pool을 이용하여 여러 프로세스를 열었으나 프로세스가 작동을 잘 하지 않았습니다. 그래서 일단 한개의 프로세스로 처리를 하였습니다. 파이썬에서 여러 프로세스를 열어서 사용하는 방식이 처음이라 서툴렀나봅니다.

2. main함수에서 getSchoolCodelist로 서울시 내의 모든 학교 코드 리스트를 받아옵니다. 

3. 받아온 학교 코드로 getMealDataWithSchoolCode로 20210101 ~ 20211231까지의 급식 정보를 요청하고, (학교명, 날짜, 구분, 메뉴, 칼로리) 에 해당하는 정보를 가공합니다.

4. 메뉴 정보를 가공할때 makeMenuString 함수를 쓰는데 regex로 한번에 모든 특수문자를 지울걸 그랬나 후회됩니다. 초기에 소수의 데이터에 대해 코드를 돌려보고 눈에 보이는 몇개만 지우려고 하나씩 처리하다 보니 저렇게 되었습니다. 

5. getMealDataWithSchoolCode함수는 리스트를 리턴하고 tempList라는 리스트 안에 리스트를 저장하는것이기에 바로 DataFrame으로 만들 수 없어 list를 flat하게 만들어주는 과정을 거친뒤, DataFrame으로 만들고 이를 excel파일에 저장하는 과정을 거쳤습니다.

6. 스크립트를 도는 과정에서 네트워크 에러가 있었던 학교들에 대해 스크립트를 다시 한번 돌려서 수동으로 합쳤는데 이 또한 자동으로 처리할 수 있을 것 같습니다. 

7. 다른 기능을 하는 여러 함수들이 한 파일에 다 밀어넣어져 있습니다. 파일을 잘 분리해서 가독성을 높였어야 한다고 생각이 듭니다. 

8. 보통 이런 자동화 스크립트는 1회성이 아니기에 스크립트 실행하면서 기간이나 지역명등을 넣을 수 있도록 하면 더 좋지 않을까 생각이 듭니다. ex) ```python3 nuvi.py 20210101 20211231 서울``` 

9. 스크립트를 돌리면 A column에 몇번째 데이터인지 정보가 쌓이는데 엑셀에 자체적으로 몇번째 줄인지 표시해주기 때문에 지웠습니다. 